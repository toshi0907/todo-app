<li class="<%= todo.due_date && todo.due_date < today && !todo.done ? 'overdue' : '' %>">
  <span class="<%= todo.done ? 'done' : '' %>"><%= todo.task %></span>
  <span class="task-meta">
    <% if (todo.due_date) { %>
      <% if (todo.due_date.length > 10) { %>
        〆<%= todo.due_date.slice(5, 16).replace(' ', '/') %>
      <% } else { %>
        〆<%= todo.due_date.slice(5) %>
      <% } %>
    <% } %>
  </span>
  <span class="task-actions">
    <% if (!todo.done) { %>
      <form action="/done/<%= todo.id %>" method="post" style="display:inline;">
        <button type="submit" title="完了">✅</button>
      </form>
    <% } else { %>
      <form action="/undone/<%= todo.id %>" method="post" style="display:inline;">
        <button type="submit" title="未完了に戻す">↩️</button>
      </form>
    <% } %>
    <form action="/edit/<%= todo.id %>" method="get" style="display:inline;">
      <button type="submit" title="編集">✏️</button>
    </form>
    <form action="/delete/<%= todo.id %>" method="post" style="display:inline;">
      <button type="submit" title="削除">🗑️</button>
    </form>
  </span>
</li>
