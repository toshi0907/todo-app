<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>カテゴリ管理</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8fafc; font-family: 'Segoe UI', 'Roboto', sans-serif; margin: 0; padding: 0; }
    .container { max-width: 600px; margin: 2em auto; background: #fff; border-radius: 12px; box-shadow: 0 2px 16px #0001; padding: 2em; }
    h1 { font-weight: 700; color: #2d3748; margin-bottom: 1.5em; }
    form { margin-bottom: 1.5em; display: flex; gap: 1em; align-items: center; }
    input, button, a.btn { border-radius: 6px; }
    input[type="text"] { border: 1px solid #cbd5e1; padding: 0.5em; }
    button, a.btn { background: #2563eb; color: #fff; border: none; padding: 0.5em 1.2em; cursor: pointer; transition: background 0.2s; text-decoration: none; }
    button:hover, a.btn:hover { background: #1d4ed8; }
    ul { list-style: none; padding: 0; }
    li { background: #f1f5f9; margin-bottom: 0.5em; padding: 0.7em 1em; border-radius: 6px; display: flex; align-items: center; gap: 1em; }
    .cat-actions form { display: inline; margin: 0; }
    .cat-actions button { background: #64748b; margin-left: 0.3em; }
    .cat-actions button:hover { background: #334155; }
    @media (max-width: 600px) {
      .container { padding: 1em; }
      form { flex-direction: column; gap: 0.5em; align-items: stretch; }
      li { flex-direction: column; align-items: flex-start; }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>カテゴリ管理</h1>
    <form action="/categories/add" method="post">
      <input type="text" name="name" placeholder="新しいカテゴリ" required>
      <button type="submit">追加</button>
    </form>
    <ul>
      <% categories.forEach(cat => { %>
        <li>
          <span><%= cat.name %></span>
          <span class="cat-actions">
            <form action="/categories/delete/<%= cat.id %>" method="post" style="display:inline;">
              <button type="submit">削除</button>
            </form>
            <form action="/categories/edit/<%= cat.id %>" method="post" style="display:inline;">
              <input type="text" name="name" value="<%= cat.name %>" required>
              <button type="submit">修正</button>
            </form>
          </span>
        </li>
      <% }) %>
    </ul>
    <a href="/" class="btn">← タスク一覧へ</a>
  </div>
</body>
</html>
